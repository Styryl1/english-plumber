---
const { site } = Astro.props;

const quickFixHeading = site?.quickFixHeading || 'Not Just Quick Fixes,';
const quickFixHeadingAccent = site?.quickFixHeadingAccent || 'Complete Home Plumbing Support';
const quickFixBody =
  site?.quickFixBody ||
  'Most companies patch the issue. We diagnose the cause and fix it properly with clear communication, fair pricing, and practical solutions.';

const quickFixStatOneValue = site?.quickFixStatOneValue || '95 EUR';
const quickFixStatOneLabelTop = site?.quickFixStatOneLabelTop || 'per hour';
const quickFixStatOneLabelBottom = site?.quickFixStatOneLabelBottom || 'labour';
const quickFixStatTwoValue = site?.quickFixStatTwoValue || '145 EUR';
const quickFixStatTwoLabelTop = site?.quickFixStatTwoLabelTop || 'boiler';
const quickFixStatTwoLabelBottom = site?.quickFixStatTwoLabelBottom || 'servicing';

const defaultCards = [
  {
    title: 'Home',
    accent: 'Plumbing Visits',
    href: '#services',
    imagePath: '/api/media/file/Testing%20for%20home%20page.webp',
    linkLabel: 'View Service',
  },
  {
    title: 'Transparent',
    accent: 'Repairs',
    href: '#pricing',
    imagePath: '/api/media/file/Supps%20for%20home%20page.webp',
    linkLabel: 'View Service',
  },
];

const cards = Array.isArray(site?.quickFixCards) && site.quickFixCards.length > 0 ? site.quickFixCards : defaultCards;
---

<div class="mt-[52px] lg:mt-[265px] mb-[63px] lg:mb-[198px]" data-native-quickfix="true">
  <div class="max-lg:px-0 mx-auto lg:px-4 lg:max-w-[1100px]">
    <div class="flex flex-col lg:flex-row items-center justify-between gap-[63px] lg:gap-12">
      <div class="w-full flex max-lg:flex-nowrap gap-3 lg:gap-6 no-scrollbar max-lg:overflow-x-auto max-lg:pl-4 justify-end" data-site-field="quickFixCards">
        {cards.map((card) => (
          <div class="relative shrink-0 w-[280px] max-lg:w-[80vw] overflow-hidden rounded-[14px] max-lg:last:mr-4">
            <div class="rounded-[14px] overflow-hidden">
              <div class="rounded-[14px] overflow-hidden" style="transform:translateY(5%) scale(1.1)">
                <img
                  alt={`${card?.title || 'Service'} ${card?.accent || ''}`.trim()}
                  loading="lazy"
                  width="302"
                  height="400"
                  decoding="async"
                  data-nimg="1"
                  class="w-full h-[400px] object-cover"
                  style="color:transparent"
                  src={card?.imagePath || '/favicon.ico'}
                />
              </div>
            </div>
            <div class="absolute flex-col gap-[10px] w-full text-white bottom-0 px-5 pb-5 pt-2">
              <h3 class="text-[32px] relative z-10">
                <span>{card?.title || 'Service'}</span>
                <br />
                <em class="italic font-victorSerif font-medium">{card?.accent || 'Details'}</em>
              </h3>
              <a class="text-sm group relative z-10" href={card?.href || '#'}>
                {card?.linkLabel || 'View Service'}
                <span class="group-hover:ml-1 transition-all duration-300 ease-in-out transform"> {'â€º'}</span>
              </a>
              <div class="gradient-blur absolute w-full h-full inset-0"></div>
            </div>
          </div>
        ))}
      </div>

      <div class="max-lg:max-w-[433px] max-lg:px-4 flex flex-col justify-center gap-[76px] lg:gap-[66px]">
        <div>
          <h2 class="font-450 mb-4 lg:text-[36px] !leading-none text-heading-section">
            <span class="whitespace-pre-wrap" data-site-field="quickFixHeading">{quickFixHeading}</span>
            <br />
            <span
              class="whitespace-pre-wrap italic font-victorSerif font-medium lg:text-[36px] text-heading-section"
              data-site-field="quickFixHeadingAccent"
            >
              {quickFixHeadingAccent}
            </span>
          </h2>

          <p class="whitespace-pre-wrap text-muted-foreground mb-4.5 leading-relaxed" data-site-field="quickFixBody">
            {quickFixBody}
          </p>

          <div class="grid grid-cols-2 gap-8">
            <div>
              <div class="italic text-[80px] font-medium text-blueZodiac font-victorSerif" data-site-field="quickFixStatOneValue">
                {quickFixStatOneValue}
              </div>
              <div class="text-grey-500 text-2xl">
                <span data-site-field="quickFixStatOneLabelTop">{quickFixStatOneLabelTop}</span>
                <br />
                <span data-site-field="quickFixStatOneLabelBottom">{quickFixStatOneLabelBottom}</span>
              </div>
            </div>

            <div>
              <div class="italic text-[80px] font-medium text-blueZodiac font-victorSerif" data-site-field="quickFixStatTwoValue">
                {quickFixStatTwoValue}
              </div>
              <div class="text-grey-500 text-2xl">
                <span data-site-field="quickFixStatTwoLabelTop">{quickFixStatTwoLabelTop}</span>
                <br />
                <span data-site-field="quickFixStatTwoLabelBottom">{quickFixStatTwoLabelBottom}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
