---
const { site } = Astro.props;

const noJargonHeading = site?.noJargonHeading || 'No confusing jargon,';
const noJargonHeadingAccent = site?.noJargonHeadingAccent || 'just honest plumbing help.';
const noJargonBody =
  site?.noJargonBody ||
  `${site?.businessName || 'English Plumber'} is a friendly local service in ${site?.baseCity || 'Medemblik'}. We support expats and Dutch homeowners with clear advice, quality repairs, and reliable follow-up.`;
const noJargonBadgeLabel = site?.noJargonBadgeLabel || 'English + Dutch';
const noJargonBadgeValue = site?.noJargonBadgeValue || 'spoken';

const defaultCards = [
  {
    title: 'Free',
    accent: 'Quotes',
    href: '#pricing',
    imagePath: '/api/media/file/Longevity%20Rx%20for%20home%20page.webp',
    linkLabel: 'View Service',
  },
  {
    title: 'CO-vakmanschap',
    accent: '+ VCA',
    href: '#about',
    imagePath: '/api/media/file/Care%20team%20for%20home%20page.webp',
    linkLabel: 'View Service',
  },
];

const cards = Array.isArray(site?.noJargonCards) && site.noJargonCards.length > 0 ? site.noJargonCards : defaultCards;
---

<div class="mt-[52px] lg:mt-[265px] mb-[63px] lg:mb-[198px]" data-native-nojargon="true">
  <div class="max-lg:px-0 mx-auto lg:px-4 lg:max-w-[1100px]">
    <div class="flex flex-col items-center justify-between gap-[63px] lg:gap-12 lg:flex-row-reverse">
      <div class="w-full flex max-lg:flex-nowrap gap-3 lg:gap-6 no-scrollbar max-lg:overflow-x-auto max-lg:pl-4" data-site-field="noJargonCards">
        {cards.map((card, index) => (
          <div class="relative shrink-0 w-[280px] max-lg:w-[80vw] overflow-hidden rounded-[14px] max-lg:last:mr-4" data-site-field={`noJargonCards.${index}`}>
            <div class="rounded-[14px] overflow-hidden">
              <div class="rounded-[14px] overflow-hidden" style="transform:translateY(5%) scale(1.1)">
                <img
                  alt={`${card?.title || 'Service'} ${card?.accent || ''}`.trim()}
                  loading="lazy"
                  width="302"
                  height="400"
                  decoding="async"
                  data-nimg="1"
                  class="w-full h-[400px] object-cover"
                  style="color:transparent"
                  src={card?.imagePath || '/favicon.ico'}
                  data-site-field={`noJargonCards.${index}.imagePath`}
                />
              </div>
            </div>
            <div class="absolute flex-col gap-[10px] w-full text-white bottom-0 px-5 pb-5 pt-2">
              <h3 class="text-[32px] relative z-10">
                <span data-site-field={`noJargonCards.${index}.title`}>{card?.title || 'Service'}</span>
                <br />
                <em class="italic font-victorSerif font-medium" data-site-field={`noJargonCards.${index}.accent`}>
                  {card?.accent || 'Details'}
                </em>
              </h3>
              <a class="text-sm group relative z-10" href={card?.href || '#'} data-site-field={`noJargonCards.${index}.href`}>
                <span data-site-field={`noJargonCards.${index}.linkLabel`}>{card?.linkLabel || 'View Service'}</span>
                <span class="group-hover:ml-1 transition-all duration-300 ease-in-out transform"> {'â€º'}</span>
              </a>
              <div class="gradient-blur absolute w-full h-full inset-0"></div>
            </div>
          </div>
        ))}
      </div>

      <div class="max-lg:max-w-[433px] max-lg:px-4 flex flex-col justify-center gap-[76px] lg:gap-[66px]">
        <div class="max-lg:order-1">
          <h2 class="font-450 mb-4 lg:text-[36px] !leading-none text-heading-section">
            <span class="whitespace-pre-wrap" data-site-field="noJargonHeading">{noJargonHeading}</span>
            <br />
            <span
              class="whitespace-pre-wrap italic font-victorSerif font-medium lg:text-[36px] text-heading-section"
              data-site-field="noJargonHeadingAccent"
            >
              {noJargonHeadingAccent}
            </span>
          </h2>

          <p class="whitespace-pre-wrap text-muted-foreground mb-4.5 leading-relaxed" data-site-field="noJargonBody">
            {noJargonBody}
          </p>

          <div class="flex items-center gap-1 text-blueZodiac">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path
                d="M10.49 2.23 5.5 4.11c-1.15.43-2.09 1.79-2.09 3.01v7.43c0 1.18.78 2.73 1.73 3.44l4.3 3.21c1.41 1.06 3.73 1.06 5.14 0l4.3-3.21c.95-.71 1.73-2.26 1.73-3.44V7.12c0-1.23-.94-2.59-2.09-3.02l-4.99-1.87c-.85-.31-2.21-.31-3.04 0Z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
              <path
                d="m9.05 11.87 1.61 1.61 4.3-4.3"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
            </svg>
            <b data-site-field="noJargonBadgeLabel">{noJargonBadgeLabel}</b>
            <span data-site-field="noJargonBadgeValue">{noJargonBadgeValue}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
